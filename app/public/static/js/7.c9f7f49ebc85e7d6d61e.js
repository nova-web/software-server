webpackJsonp([7],{INCx:function(t,e,s){t.exports={default:s("q3gF"),__esModule:!0}},JWAb:function(t,e,s){var i=s("kM2E");i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},"P+c3":function(t,e){},eZCF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("INCx"),h=s.n(i),r=(s("34+y"),s("X+yh")),n=s.n(r),a=s("Dd8w"),o=s.n(a),c=s("Y8t/"),l=s("hkf/"),d=s("0xDb"),u=s("NYxO"),g={data:function(){return{selected:{},custom:{},resolutions:[{width:800,height:600,rate:60,id:1},{width:1024,height:768,rate:60,id:2},{width:1280,height:720,rate:60,id:3},{width:1280,height:768,rate:60,id:4},{width:1280,height:800,rate:60,id:5},{width:1280,height:1024,rate:60,id:6},{width:1366,height:768,rate:60,id:7},{width:1440,height:900,rate:60,id:8},{width:1600,height:1200,rate:60,id:9},{width:1680,height:1050,rate:60,id:10},{width:1920,height:1080,rate:60,id:11},{width:1920,height:1200,rate:60,id:12}],visible:!1,req:{width:"",height:"",rate:""},isBlur:!1,isempty:!1,flag:!1}},computed:o()({},Object(u.b)(["getSelectedRate","getCustomRate"])),mounted:function(){var t=Object(d.f)("custom")||{};t.hasOwnProperty("width")&&(this.resolutions.some(function(e){return e.width==t.width&&e.height==t.height&&e.rate==t.rate})||(this.resolutions.unshift(t),this.req=Object(d.h)(t))),this.selected=this.$route.params.selected},methods:o()({},Object(u.c)(["setSelectedRate","setCustomRate"]),{blurWidth:function(t){var e=this;""!=t&&(this.isBlur=!0),setTimeout(function(){e.isBlur=!1},100),this.changedWidth(t)},blurHeight:function(t){var e=this;""!=t&&(this.isBlur=!0),setTimeout(function(){e.isBlur=!1},100),this.changedHeight(t)},blurFresh:function(t){var e=this;""!=t&&(this.isBlur=!0),setTimeout(function(){e.isBlur=!1},100),this.changedFresh(t)},changedWidth:function(t){if(""!==t){if(!Object(d.k)(t))return n()({className:"vx-toast",message:this.$t("settings.isNum")+this.$t("common.dot"),duration:1500}),this.req.width=800,this.flag=!0,!1;var e=""!=this.req.rate&&""!=this.req.height?h()(165e6/parseInt(this.req.rate)/(parseInt(this.req.height)+62))-160:2048;e=e>2048?2048:e;var s=Math.max(Math.min(e,+this.req.width),800);s!=this.req.width&&(n()({className:"vx-toast",message:this.$t("settings.enterResolutionErrMsgs.width")+"800 "+this.$t("settings.enterResolutionErrMsgs.flag")+e+this.$t("common.dot"),duration:1500}),this.flag=!0,this.req.width=s)}return!0},changedHeight:function(t){if(""!==t){if(!Object(d.k)(t))return n()({className:"vx-toast",message:this.$t("settings.isNum")+this.$t("common.dot"),duration:1500}),this.flag=!0,this.req.height=600,!1;var e=""!=this.req.rate&&""!=this.req.width?h()(165e6/parseInt(this.req.rate)/(parseInt(this.req.width)+160))-62:1600;console.log(e),e=e>1600?1600:e;var s=Math.max(Math.min(e,+this.req.height),600);s!=this.req.height&&(n()({className:"vx-toast",message:this.$t("settings.enterResolutionErrMsgs.height")+"600 "+this.$t("settings.enterResolutionErrMsgs.flag")+e+this.$t("common.dot"),duration:1500}),this.flag=!0,this.req.height=s)}return!0},changedFresh:function(t){if(""!==t){if(!Object(d.k)(t))return n()({className:"vx-toast",message:this.$t("settings.isNum")+this.$t("common.dot"),duration:1500}),this.req.rate=24,this.flag=!0,!1;var e=""!=this.req.height&&""!=this.req.width?h()(165e6/(parseInt(this.req.height)+62)/(parseInt(this.req.width)+160)):60;console.log(e),e=e>60?60:e;var s=Math.max(Math.min(e,+this.req.rate),24);s!=this.req.rate&&(n()({className:"vx-toast",message:this.$t("settings.enterResolutionErrMsgs.refresh")+"24 "+this.$t("settings.enterResolutionErrMsgs.flag")+e+this.$t("common.dot"),duration:1500}),this.flag=!0,this.req.rate=s)}return!0},save:function(){var t=this;c.a.post(l.a.setInputResolutionRatio,{width:this.selected.width,height:this.selected.height,rate:this.selected.rate,inputSourceId:this.$route.params.selSource.id}).then(function(e){1e7===e.status&&t.$router.go(-1)})},checkResolution:function(){return""==this.req.width?(n()({className:"vx-toast",message:this.$t("common.pleaseEnter")+this.$t("settings.width")+this.$t("common.dot"),duration:1500}),!1):!!this.changedWidth(this.req.width)&&(""==this.req.height?(n()({className:"vx-toast",message:this.$t("common.pleaseEnter")+this.$t("settings.height")+this.$t("common.dot"),duration:1500}),!1):!!this.changedHeight(this.req.height)&&(""==this.req.rate?(n()({className:"vx-toast",message:this.$t("common.pleaseEnter")+this.$t("settings.vertrefresh")+this.$t("common.dot"),duration:1500}),!1):!!this.changedFresh(this.req.rate)))},saveResolution:function(t){var e=this;if(!this.flag){if(setTimeout(function(){e.isBlur=!1},100),this.isBlur)return!1;if(!this.checkResolution())return!1;this.visible=!1,this.saveHandler(),this.save()}setTimeout(function(){e.flag=!1},100)},saveHandler:function(){var t=this;this.selected.width=this.req.width,this.selected.height=this.req.height,this.selected.rate=this.req.rate,this.selected.id="vx-custom",Object(d.i)("custom",{width:this.req.width,height:this.req.height,rate:this.req.rate,id:"vx-custom"}),this.setSelectedRate(this.selected),this.getSelectedRate.hasOwnProperty("width")&&(this.resolutions.some(function(e){return e.width==t.getSelectedRate.width&&e.height==t.getSelectedRate.height&&e.rate==t.getSelectedRate.rate})||(this.resolutions.some(function(e){return e.id==t.getSelectedRate.id})?this.resolutions[0]=this.getSelectedRate:this.resolutions.unshift(this.getSelectedRate)))},selectResolution:function(t){this.selected=t,this.setSelectedRate(this.selected),Object(d.i)("custom",this.selected),this.save()}})},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sel-resolution"},[s("vx-header",{attrs:{showback:1,title:t.$t("settings.enterResolution")}}),t._v(" "),s("div",{staticClass:"vx-container"},[s("div",{staticClass:"sel-sources"},[t._l(t.resolutions,function(e,i){return s("vx-cell",{key:i,class:{selected:t.selected.id===e.id},attrs:{title:e.width+"x"+e.height+"@"+e.rate+"Hz",showLink:!1},on:{link:function(s){t.selectResolution(e)}}})}),t._v(" "),s("vx-cell",{attrs:{title:t.$t("settings.custom"),showLink:!1},on:{link:function(e){t.visible=!0}}})],2)]),t._v(" "),t.visible?s("vx-modal",{attrs:{visible:t.visible}},[s("div",{staticClass:"custom_header",attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("settings.custom")))]),t._v(" "),s("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[s("vx-input",{attrs:{type:"text",placeholdertext:t.$t("settings.enterWidth"),placeholder:t.$t("settings.width")},on:{changedInput:t.changedWidth},model:{value:t.req.width,callback:function(e){t.$set(t.req,"width",e)},expression:"req.width"}}),t._v(" "),s("vx-input",{attrs:{type:"text",placeholdertext:t.$t("settings.enterHeight"),placeholder:t.$t("settings.height")},on:{changedInput:t.changedHeight},model:{value:t.req.height,callback:function(e){t.$set(t.req,"height",e)},expression:"req.height"}}),t._v(" "),s("vx-input",{attrs:{type:"text",placeholdertext:t.$t("settings.enterVertrefresh"),placeholder:t.$t("settings.vertrefresh")},on:{changedInput:t.changedFresh},model:{value:t.req.rate,callback:function(e){t.$set(t.req,"rate",e)},expression:"req.rate"}})],1),t._v(" "),s("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"btn cancel",on:{click:function(e){t.visible=!1,t.issave=!0}}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),s("div",{staticClass:"btn save",on:{click:t.saveResolution}},[t._v(t._s(t.$t("common.confirm")))])])]):t._e()],1)},staticRenderFns:[]};var v=s("VU/8")(g,m,!1,function(t){s("gJ9P"),s("P+c3")},"data-v-e830e4a8",null);e.default=v.exports},gJ9P:function(t,e){},q3gF:function(t,e,s){s("JWAb"),t.exports=s("FeBl").Math.trunc}});
//# sourceMappingURL=7.c9f7f49ebc85e7d6d61e.js.map