{"version":3,"sources":["webpack:///src/pages/index.vue","webpack:///./src/pages/index.vue?0d3b","webpack:///./src/pages/index.vue"],"names":["pages","data","showIndicator","time","progress","routers","name","this","$t","path","className","Object","utils","title","ids","isCancel","created","getDeviceInfo","getDeviceType","getTestPicture","getScreenStructure","getProgress","computed","extends_default","vuex_esm","methods","_this","http","post","apiurl","control","loading","then","res","status","resTime","progressCancel","_this2","active","get","testControl","console","log","_this3","setScreenStructure","_this4","setNewVersion","window","Android","checkVersion","deviceName","deviceIp","go","route","getIsHScreen","$router","push","toast_default","_this5","getPortSize","modelId","portSize","some","id","setIsVcan6S","back","returnDeviceList","selectortype_template_index_0_src_pages","render","_vm","_h","$createElement","_c","_self","attrs","showback","ishome","_v","staticClass","_l","router","index","key","class","on","click","$event","getNewVersion","_e","type","_s","text","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.f01185b317b98d35c561.js","sourcesContent":["<template>\r\n  <div>\r\n    <vx-header :showback=\"1\" :title=\"title\" :ishome=\"1\"></vx-header>\r\n    <div class=\"vx-container\">\r\n      <div class=\"menues-container\">\r\n        <div class=\"menu-box\" v-for=\"(router,index) in routers\" :key=\"index\">\r\n          <div class=\"menu\" :class=\"router.className\" @click=\"go(router)\">\r\n            <mt-badge class=\"badge\" v-if=\"router.path==='settings'&&!getNewVersion\" type=\"error\">1</mt-badge>\r\n            <div class=\"label\">{{router.name}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <vx-indicator v-if=\"showIndicator\" :time=\"time\" :text=\"progress\" @progressCancel=\"progressCancel\"></vx-indicator>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import htp from \"../api/http\";\r\n  import { setLoc, getLoc, setSen, getSen, Confirm } from '../utils';\r\n  import urls from \"../api/apiurl\";\r\n  import { Toast } from 'mint-ui';\r\n  import { mapGetters, mapMutations } from 'vuex';\r\n\r\n  export default {\r\n    data: function() {\r\n      return {\r\n        showIndicator: false,\r\n        time: 0,\r\n        progress: 0,\r\n        routers: [{\r\n          name: this.$t('common.filamentShield'),\r\n          path: 'selectScreenMode',\r\n          className: 'filamentShield'\r\n        }, {\r\n          name: this.$t('common.scenarist'),\r\n          path: getLoc('setWorkModel') ? 'scenarist' : 'selectmode',\r\n          className: 'scenarist'\r\n        }, {\r\n          name: this.$t('common.sourceSwitch'),\r\n          path: 'window',\r\n          className: 'sourceSwitch'\r\n        }, {\r\n          name: this.$t('common.scene'),\r\n          path: 'scene',\r\n          className: 'scene'\r\n        }, {\r\n          name: this.$t('common.test'),\r\n          path: 'psytopic',\r\n          className: 'test'\r\n        }, {\r\n          name: this.$t('common.settings'),\r\n          path: 'settings',\r\n          className: 'settings'\r\n        }, {\r\n          name: this.$t('common.osd'),\r\n          path: 'osd',\r\n          className: 'osd'\r\n        }, {\r\n          name: this.$t('settings.about'),\r\n          path: 'about',\r\n          className: 'about'\r\n        }],\r\n        title: '',\r\n        ids: [25089, 25090, 25091],\r\n        isCancel: false\r\n      };\r\n    },\r\n    created() {\r\n      this.getDeviceInfo();\r\n      this.getDeviceType();\r\n      this.getTestPicture();\r\n      this.getScreenStructure();\r\n      this.getProgress();\r\n    },\r\n    computed: {\r\n      ...mapGetters(['getIsHScreen', 'getNewVersion', 'getProgressTime'])\r\n    },\r\n    methods: {\r\n      ...mapMutations(['setIsVcan6S', 'setNewVersion', 'setScreenStructure']),\r\n      //osd在上传过程中被锁屏执行操作\r\n      //查看是否正在执行\r\n      getProgress() {\r\n        if(this.isCancel) {\r\n          htp.post(urls.getProgress, { control: 0 }, { loading: false });\r\n          return false;\r\n        }\r\n        htp.post(urls.getProgress, { control: 1 }, { loading: false }).then(res => {\r\n          if(res.status === 10000000) {\r\n            if(res.data.progress === 100 || res.data.progress === -1 || res.data.progress === 0) {\r\n              this.showIndicator = false;\r\n            } else {\r\n              if(!this.isCancel) {\r\n                this.showIndicator = true;\r\n              }\r\n              this.time = res.data.resTime || 0;\r\n              this.progress = res.data.progress;\r\n              this.getProgress();\r\n            }\r\n          }\r\n        });\r\n      },\r\n      progressCancel() {\r\n        Confirm(this.$t('osd.cancelOSD')).then(active => {\r\n          this.isCancel = true;\r\n          this.showIndicator = false;\r\n        });\r\n      },\r\n      getTestPicture() {\r\n        htp.get(urls.getTestPicture).then(res => {\r\n          if(res.status === 10000000) {\r\n            switch(res.data.testControl) {\r\n              case (2):\r\n                setLoc('isTextTap', 2);\r\n                console.log(2);\r\n                break;\r\n              case (3):\r\n                setLoc('isTextTap', 0);\r\n                console.log(0);\r\n                break;\r\n              default:\r\n                setLoc('isTextTap', 1);\r\n                break;\r\n            }\r\n          }\r\n        });\r\n      },\r\n      getScreenStructure() {\r\n        htp.get(urls.getScreenStructure).then(res => {\r\n          if(res.status === 10000000) {\r\n            this.setScreenStructure(res.data);\r\n          }\r\n        });\r\n      },\r\n      getDeviceInfo() {\r\n        this.setNewVersion(window.Android.checkVersion());\r\n        htp.get(urls.getDeviceInfo).then(res => {\r\n          if(res.status === 10000000) {\r\n            setLoc('device', res.data);\r\n            this.title = res.data.deviceName + '<span style=\"font-size:14px\">  (' + res.data.deviceIp + ')</span>';\r\n          }\r\n        });\r\n      },\r\n      go(route) {\r\n        if(route.name === 'scenarist') {\r\n          let path = this.getIsHScreen ? 'scenarist-h' : 'scenarist';\r\n          this.$router.push({ name: path });\r\n        } else if(route.path === 'psytopic') {\r\n          if(getLoc('isTextTap') === '0') {\r\n            Toast(this.$t('common.blackScreen'));\r\n          } else if(getLoc('isTextTap') === '2') {\r\n            Toast(this.$t('common.icoScreen'));\r\n          } else {\r\n            this.$router.push({ name: route.path });\r\n          }\r\n        } else {\r\n          this.$router.push({ name: route.path });\r\n        }\r\n      },\r\n      getDeviceType() {\r\n        htp.get(urls.getPortSize).then(res => {\r\n          if(res.status === 10000000) {\r\n            setLoc('modelId', res.data.modelId);\r\n            setLoc('portNumber', res.data.portSize);\r\n            if(this.ids.some(id => {\r\n              return id == res.data.modelId;\r\n            })) {\r\n              this.setIsVcan6S(true);\r\n              this.routers[1].path = 'scenarist';\r\n            }\r\n          }\r\n        });\r\n      },\r\n      back() {\r\n        window.Android.returnDeviceList();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .menues-container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 45px 60px;\r\n    height: 100%;\r\n    .menu-box {\r\n      text-decoration: none;\r\n      position: relative;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      .menu {\r\n        width: 230px;\r\n        height: 230px;\r\n        background-size: 100% 100%;\r\n        background-repeat: no-repeat;\r\n        position: relative;\r\n        &:active {\r\n          opacity: 0.8;\r\n        }\r\n        .badge {\r\n          position: absolute;\r\n          right: -10px;\r\n          top: -10px;\r\n          width: 60px;\r\n          height: 60px;\r\n          line-height: 60px;\r\n          border-radius: 50%;\r\n          padding: 0 !important;\r\n        }\r\n        .label {\r\n          font-size: 12px; /*no*/\r\n          color: #fff;\r\n          position: absolute;\r\n          left: 50%;\r\n          transform: translate(-50%);\r\n          height: 80px;\r\n          display: flex;\r\n          bottom: 8px;\r\n          align-items: center;\r\n        }\r\n        &.filamentShield {\r\n          background-image: url('../assets/source_icons/filamentShield.png');\r\n        }\r\n\r\n        &.scenarist {\r\n          background-image: url('../assets/source_icons/scenarist.png');\r\n        }\r\n\r\n        &.sourceSwitch {\r\n          background-image: url('../assets/source_icons/sourceSwitch.png');\r\n        }\r\n\r\n        &.scene {\r\n          background-image: url('../assets/source_icons/scene.png');\r\n        }\r\n\r\n        &.test {\r\n          background-image: url('../assets/source_icons/test.png');\r\n        }\r\n\r\n        &.settings {\r\n          background-image: url('../assets/source_icons/settings.png');\r\n        }\r\n\r\n        &.osd {\r\n          background-image: url('../assets/source_icons/osd.png');\r\n        }\r\n\r\n        &.about {\r\n          background-image: url('../assets/source_icons/about.png');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (orientation: portrait) {\r\n    .menues-container .menu-box {\r\n      width: 50%;\r\n      height: 25%;\r\n    }\r\n  }\r\n\r\n  @media screen and (orientation: landscape) {\r\n    .menues-container .menu-box {\r\n      width: 25%;\r\n      height: 50%;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-header',{attrs:{\"showback\":1,\"title\":_vm.title,\"ishome\":1}}),_vm._v(\" \"),_c('div',{staticClass:\"vx-container\"},[_c('div',{staticClass:\"menues-container\"},_vm._l((_vm.routers),function(router,index){return _c('div',{key:index,staticClass:\"menu-box\"},[_c('div',{staticClass:\"menu\",class:router.className,on:{\"click\":function($event){_vm.go(router)}}},[(router.path==='settings'&&!_vm.getNewVersion)?_c('mt-badge',{staticClass:\"badge\",attrs:{\"type\":\"error\"}},[_vm._v(\"1\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(router.name))])],1)])}))]),_vm._v(\" \"),(_vm.showIndicator)?_c('vx-indicator',{attrs:{\"time\":_vm.time,\"text\":_vm.progress},on:{\"progressCancel\":_vm.progressCancel}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5185c765\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5185c765\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5185c765\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5185c765\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}