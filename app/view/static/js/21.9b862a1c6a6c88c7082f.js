webpackJsonp([21],{OY8Y:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("Xxa5"),a=o.n(i),n=o("exGp"),s=o.n(n),l=o("Y8t/"),c=o("hkf/"),r=o("0xDb"),h={data:function(){return{nowNetNum:null,tip:{netOne:!1,netsub:""},scrollStyle:{},colorNet:{netBoxNum:null,walktypeRow:null,walktypeCol:null,reversalY:null,reversalX:null},calculation:{resolution:{},portNumber:null,boxParam:{}},showScreenSize:[],getQuickPointScreen:{},boxParamSize:{boxWidth:null,boxHeight:null},rowcolBoxSize:{width:null,height:null},rowColBoxDom:{rowColBox:null,styles:null,table:null,tableStyle:null},reversals:{reversalsX:!1,reversalsY:!1,walktypeRow:!1,walktypeCol:!1},ranges:{rows:{start:1,end:null},columns:{start:1,end:null},net:{start:1,end:null}},selectWalkType:"",imgList:[{normalImg:"normal_img1",selectImg:"select_img1",walkType:0},{normalImg:"normal_img2",selectImg:"select_img2",walkType:1},{normalImg:"normal_img3",selectImg:"select_img3",walkType:2},{normalImg:"normal_img4",selectImg:"select_img4",walkType:3},{normalImg:"normal_img5",selectImg:"select_img5",walkType:4},{normalImg:"normal_img6",selectImg:"select_img6",walkType:5},{normalImg:"normal_img7",selectImg:"select_img7",walkType:6},{normalImg:"normal_img8",selectImg:"select_img8",walkType:7}]}},created:function(){console.log(11111)},mounted:function(){var t=this;this.initData(),window.addEventListener("orientationchange",function(){"quickscreen"===t.$router.history.current.name&&setTimeout(function(){t.initBoxParamSize()},100)},!1)},methods:{dun:function(t,e){var o=t+1+"、";return t===e-1&&(o=t+1),o},initData:function(){var t=this;this.calculation.resolution=Object(r.f)("resolution"),this.calculation.portNumber=Object(r.f)("portNumber"),this.calculation.boxParam=Object(r.f)("boxParam"),this.getQuickScreenData().then(function(e){1e7===e.status&&(t.getQuickPointScreen=e.data,t.selectWalkType=t.getQuickPointScreen.walkType,t.getSwitch(t.selectWalkType,t.getQuickPointScreen.loadNum),t.getNumBoxData(e.data.boxX,e.data.boxY),t.initBoxParamSize(),t.calculation.boxParam&&(t.ranges={rows:{start:1,end:Math.floor(2160/t.calculation.boxParam.height)},columns:{start:1,end:Math.floor(4096/t.calculation.boxParam.width)},net:{start:1,end:40}}))})},getQuickScreenData:function(){var t=s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.a.get(c.a.getQuickPointScreen));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getNumBoxData:function(t,e){this.calculation.boxParam&&(this.showScreenSize=[{title:this.$t("selectScreenMode.resolutionSize"),data:this.calculation.boxParam.width+"x"+this.calculation.boxParam.height},{title:this.$t("scenarist.showSize"),data:parseInt(this.calculation.boxParam.width)*t+"x"+parseInt(this.calculation.boxParam.height*e)}])},initBoxParamSize:function(){this.rowColBoxDom.styles=this.getStyle(this.$refs.rowcolBox),this.rowColBoxDom.tableStyle=this.getStyle(this.$refs.table),this.rowcolBoxSize.width=this.rowColBoxDom.styles.width,this.rowcolBoxSize.height=this.rowColBoxDom.styles.height,this.boxParamSize.boxWidth=Math.round(this.calculation.boxParam.width*parseFloat(this.rowcolBoxSize.width)/4096)/75*2+"rem",this.boxParamSize.boxHeight=Math.round(this.calculation.boxParam.height*parseFloat(this.rowcolBoxSize.height)/2048)/75*2+"rem"},getStyle:function(t){return window.getComputedStyle(t,null)},updateY:function(t){this.getQuickPointScreen.boxY=t,this.getColMix(t),this.getNetMix(t,this.getQuickPointScreen.boxX),this.getSwitch(this.selectWalkType,this.getQuickPointScreen.loadNum),this.getNumBoxData(this.getQuickPointScreen.boxX,t)},updateX:function(t){this.getQuickPointScreen.boxX=t,this.getRowMix(t),this.getNetMix(this.getQuickPointScreen.boxY,t),this.getSwitch(this.selectWalkType,this.getQuickPointScreen.loadNum),this.getNumBoxData(t,this.getQuickPointScreen.boxY)},updateNet:function(t){this.getQuickPointScreen.loadNum=t,this.getSwitch(this.selectWalkType,this.getQuickPointScreen.loadNum)},getRowMix:function(t){var e=void 0;e=2160/this.calculation.boxParam.height,e=Math.floor((3958333.3/(t*this.calculation.boxParam.width+160)-62)/this.calculation.boxParam.height),this.getQuickPointScreen.boxY>e&&(this.getQuickPointScreen.boxY=e),t<=13&&(e=Math.floor(2160/this.calculation.boxParam.height)),this.getSwitch(this.selectWalkType,this.getQuickPointScreen.loadNum)},getColMix:function(t){var e=void 0;e=4096/this.calculation.boxParam.width,e=Math.floor((3958333.3/(t*this.calculation.boxParam.height+62)-160)/this.calculation.boxParam.width),this.getQuickPointScreen.boxX>e&&(this.getQuickPointScreen.boxX=e),t<=6&&(e=Math.floor(4096/this.calculation.boxParam.width))},getNetMix:function(t,e){var o=Math.floor(39583333/60/this.calculation.boxParam.width/this.calculation.boxParam.height);o=t*e>o?o:t*e;var i=void 0;i=Math.ceil(t*e/this.calculation.portNumber)<i?i:Math.ceil(t*e/this.calculation.portNumber),this.ranges.net.end=o,this.ranges.net.start=i,this.getQuickPointScreen.loadNum>o&&(this.getQuickPointScreen.loadNum=o),this.getQuickPointScreen.loadNum<i&&(this.getQuickPointScreen.loadNum=i)},selectWalkTypes:function(t){this.selectWalkType=t.walkType,this.getSwitch(this.selectWalkType,this.getQuickPointScreen.loadNum),this.save()},getSwitch:function(t,e){switch(t){case 0:case 2:this.colorNet.walktypeRow=!0,this.colorNet.walktypeCol=!1,this.colorNet.reversalY=!1,this.colorNet.netBoxNum=Math.ceil(e/this.getQuickPointScreen.boxX);var o=Math.ceil(parseInt(this.getQuickPointScreen.boxY)/this.colorNet.netBoxNum),i=parseInt(this.getQuickPointScreen.boxY)%this.colorNet.netBoxNum==0,a=this.colorNet.netBoxNum*parseInt(this.getQuickPointScreen.boxX)*parseInt(this.calculation.boxParam.height)*parseInt(this.calculation.boxParam.width)*60>39583333;a?(console.log("网口1超了"),this.tip.netOne=!0,this.nowNetNum=o-1,i&&(console.log("全超了"),this.nowNetNum=o)):this.tip.netOne=!1;break;case 1:case 5:this.colorNet.walktypeCol=!0,this.colorNet.walktypeRow=!1,this.colorNet.reversalX=!1,this.colorNet.netBoxNum=Math.ceil(e/this.getQuickPointScreen.boxY),o=Math.ceil(parseInt(this.getQuickPointScreen.boxX)/this.colorNet.netBoxNum),i=parseInt(this.getQuickPointScreen.boxX)%this.colorNet.netBoxNum==0,console.log(parseInt(this.getQuickPointScreen.boxX)%this.colorNet.netBoxNum),(a=this.colorNet.netBoxNum*parseInt(this.getQuickPointScreen.boxY)*parseInt(this.calculation.boxParam.height)*parseInt(this.calculation.boxParam.width)*60>39583333)?(console.log("网口1超了"),this.tip.netOne=!0,this.nowNetNum=o-1,i&&(console.log("全超了"),this.nowNetNum=o)):this.tip.netOne=!1;break;case 3:case 7:this.colorNet.walktypeCol=!0,this.colorNet.walktypeRow=!1,this.colorNet.reversalX=!0,this.colorNet.netBoxNum=Math.ceil(e/this.getQuickPointScreen.boxY),o=Math.ceil(parseInt(this.getQuickPointScreen.boxX)/this.colorNet.netBoxNum),i=parseInt(this.getQuickPointScreen.boxX)%this.colorNet.netBoxNum==0,console.log(parseInt(this.getQuickPointScreen.boxX)%this.colorNet.netBoxNum),(a=this.colorNet.netBoxNum*parseInt(this.getQuickPointScreen.boxY)*parseInt(this.calculation.boxParam.height)*parseInt(this.calculation.boxParam.width)*60>39583333)?(console.log("网口1超了"),this.tip.netOne=!0,this.nowNetNum=o-1,i&&(console.log("全超了"),this.nowNetNum=o)):this.tip.netOne=!1;break;case 4:case 6:this.colorNet.walktypeRow=!0,this.colorNet.walktypeCol=!1,this.colorNet.reversalY=!0,this.colorNet.netBoxNum=Math.ceil(e/this.getQuickPointScreen.boxX),o=Math.ceil(parseInt(this.getQuickPointScreen.boxY)/this.colorNet.netBoxNum),i=parseInt(this.getQuickPointScreen.boxY)%this.colorNet.netBoxNum==0,(a=this.colorNet.netBoxNum*parseInt(this.getQuickPointScreen.boxX)*parseInt(this.calculation.boxParam.height)*parseInt(this.calculation.boxParam.width)*60>39583333)?(console.log("网口1超了"),this.tip.netOne=!0,this.nowNetNum=o-1,i&&(console.log("全超了"),this.nowNetNum=o)):this.tip.netOne=!1}},save:function(){var t={};t.boxY=this.getQuickPointScreen.boxY,t.boxX=this.getQuickPointScreen.boxX,t.loadNum=this.getQuickPointScreen.loadNum,t.walkType=this.selectWalkType,console.log(t),l.a.post(c.a.setQuickPointScreen,t).then(function(t){1e7===t.status&&Object(r.d)("selport")})}}},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"selectScreenMode"},[o("vx-header",{attrs:{showback:1,title:t.$t("selectScreenMode.quickScreen")}}),t._v(" "),o("div",{staticClass:"vx-container"},[o("div",{staticClass:"layoutRight"},[o("div",{staticClass:"screenTitle"},[o("div",{staticClass:"numBox"},t._l(t.showScreenSize,function(e,i){return o("div",{key:i},[o("span",[t._v(t._s(e.title))]),t._v(" "),o("span",[t._v(t._s(e.data))])])})),t._v(" "),o("div",{staticClass:"viewPort"},[o("div",{ref:"rowcolBox",staticClass:"rowcolBox"},[o("table",{ref:"table",staticClass:"table",class:{reversalsY:t.colorNet.reversalY,reversalsX:t.colorNet.reversalX}},t._l(t.getQuickPointScreen.boxY,function(e,i){return o("tr",{key:i,ref:"col",refInFor:!0,class:(a={},a["a"+parseInt(i/t.colorNet.netBoxNum)]=t.colorNet.walktypeRow,a)},t._l(t.getQuickPointScreen.boxX,function(e,i){return o("td",{key:i,ref:"row",refInFor:!0,class:(a={},a["a"+parseInt(i/t.colorNet.netBoxNum)]=t.colorNet.walktypeCol,a),style:{width:t.boxParamSize.boxWidth,height:t.boxParamSize.boxHeight}});var a}));var a}))]),t._v(" "),o("div",{staticClass:"tip"},[o("span",{directives:[{name:"show",rawName:"v-show",value:t.tip.netOne,expression:"tip.netOne"}]},[t._v(t._s(t.$t("selectScreenMode.networkPort"))+" "),t._l(t.nowNetNum,function(e,i){return o("span",[t._v(t._s(t.dun(i,t.nowNetNum)))])}),t._v(" "+t._s(t.$t("selectScreenMode.netOne")))],2)])])])]),t._v(" "),o("div",{staticClass:"layoutLeft"},[o("div",{staticClass:"rowColNetList"},[o("vx-progress",{attrs:{title:t.$t("selectScreenMode.rows"),num:t.getQuickPointScreen.boxY,range:t.ranges.rows,step:1},on:{update:t.updateY,touchend:t.save}}),t._v(" "),o("vx-progress",{attrs:{title:t.$t("selectScreenMode.columns"),num:t.getQuickPointScreen.boxX,range:t.ranges.columns,step:1},on:{update:t.updateX,touchend:t.save}}),t._v(" "),o("vx-progress",{attrs:{title:t.$t("selectScreenMode.CarryingCapacityNetworkPortOne"),num:t.getQuickPointScreen.loadNum,range:t.ranges.net,step:1},on:{update:t.updateNet,touchend:t.save}})],1),t._v(" "),o("div",{staticClass:"walkType"},[o("div",{staticClass:"walkType-title"},[t._v("\n          "+t._s(t.$t("selectScreenMode.selectrouteMethod"))+"\n        ")]),t._v(" "),o("div",{staticClass:"walkType-list"},t._l(t.imgList,function(e,i){return o("div",{key:i},[o("div",{staticClass:"img-list",class:e.walkType===t.selectWalkType?e.selectImg:e.normalImg,on:{click:function(o){t.selectWalkTypes(e)}}})])}))])])])],1)},staticRenderFns:[]};var m=o("VU/8")(h,u,!1,function(t){o("ztLi")},"data-v-5feddc09",null);e.default=m.exports},ztLi:function(t,e){}});
//# sourceMappingURL=21.9b862a1c6a6c88c7082f.js.map