{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/math/trunc.js","webpack:///./node_modules/core-js/library/modules/es6.math.trunc.js","webpack:///src/pages/settings/selResolution.vue","webpack:///./src/pages/settings/selResolution.vue?b343","webpack:///./src/pages/settings/selResolution.vue","webpack:///./node_modules/core-js/library/fn/math/trunc.js"],"names":["module","exports","default","__webpack_require__","__esModule","$export","S","trunc","it","Math","floor","ceil","selResolution","data","selected","custom","resolutions","width","height","rate","id","visible","req","isBlur","isempty","flag","computed","extends_default","Object","vuex_esm","mounted","utils","hasOwnProperty","this","some","o","unshift","$route","params","methods","blurWidth","value","_this","setTimeout","changedWidth","blurHeight","_this2","changedHeight","blurFresh","_this3","changedFresh","toast_default","className","message","$t","duration","max","trunc_default","parseInt","_width","min","console","log","_height","_rate","save","_this4","http","post","apiurl","setInputResolutionRatio","inputSourceId","selSource","then","response","status","$router","go","checkResolution","saveResolution","$event","_this5","saveHandler","_this6","setSelectedRate","getSelectedRate","selectResolution","settings_selResolution","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","showback","title","_v","_l","i","key","class","showLink","on","link","slot","_s","type","placeholdertext","placeholder","changedInput","model","callback","$$v","$set","expression","click","issave","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.c9f7f49ebc85e7d6d61e.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/math/trunc\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/math/trunc.js\n// module id = INCx\n// module chunks = 7","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.math.trunc.js\n// module id = JWAb\n// module chunks = 7","<template>\r\n  <div class=\"sel-resolution\">\r\n    <vx-header :showback=\"1\" :title=\"$t('settings.enterResolution')\"></vx-header>\r\n    <!-- 分辨率列表 -->\r\n    <div class=\"vx-container\">\r\n      <div class=\"sel-sources\">\r\n        <vx-cell :class=\"{selected: selected.id === o.id}\" :key=\"i\" :title=\"o.width+'x'+o.height+'@'+o.rate+'Hz'\" :showLink=\"false\" v-for=\"(o,i) in resolutions\" @link=\"selectResolution(o)\"></vx-cell>\r\n        <vx-cell :title=\"$t('settings.custom')\" :showLink=\"false\" @link=\"visible = true\"></vx-cell>\r\n      </div>\r\n    </div>\r\n\r\n    <vx-modal v-if=\"visible\" :visible=\"visible\">\r\n      <div class=\"custom_header\" slot=\"header\">{{$t('settings.custom')}}</div>\r\n      <div class=\"content\" slot=\"content\">\r\n        <vx-input type=\"text\" :placeholdertext=\"$t('settings.enterWidth')\" :placeholder=\"$t('settings.width')\" v-model=\"req.width\" @changedInput=\"changedWidth\"></vx-input>\r\n        <vx-input type=\"text\" :placeholdertext=\"$t('settings.enterHeight')\" :placeholder=\"$t('settings.height')\" v-model=\"req.height\" @changedInput=\"changedHeight\"></vx-input>\r\n        <vx-input type=\"text\" :placeholdertext=\"$t('settings.enterVertrefresh')\" :placeholder=\"$t('settings.vertrefresh')\" v-model=\"req.rate\" @changedInput=\"changedFresh\"></vx-input>\r\n      </div>\r\n      <div class=\"footer\" slot=\"footer\">\r\n        <div class=\"btn cancel\" @click=\"visible=false;issave=true;\">{{$t('common.cancel')}}</div>\r\n        <div class=\"btn save\" @click=\"saveResolution\">{{$t('common.confirm')}}</div>\r\n      </div>\r\n    </vx-modal>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import htp from \"../../api/http\";\r\n  import urls from \"../../api/apiurl\";\r\n  import { serialize, getLoc, setLoc, validateNum } from 'src/utils';\r\n  import { Toast } from 'mint-ui';\r\n  import { mapMutations, mapGetters } from 'vuex';\r\n  export default {\r\n    data() {\r\n      return {\r\n        selected: {},\r\n        custom: {},\r\n        resolutions: [\r\n          { width: 800, height: 600, rate: 60, id: 1 },\r\n          { width: 1024, height: 768, rate: 60, id: 2 },\r\n          { width: 1280, height: 720, rate: 60, id: 3 },\r\n          { width: 1280, height: 768, rate: 60, id: 4 },\r\n          { width: 1280, height: 800, rate: 60, id: 5 },\r\n          { width: 1280, height: 1024, rate: 60, id: 6 },\r\n          { width: 1366, height: 768, rate: 60, id: 7 },\r\n          { width: 1440, height: 900, rate: 60, id: 8 },\r\n          { width: 1600, height: 1200, rate: 60, id: 9 },\r\n          { width: 1680, height: 1050, rate: 60, id: 10 },\r\n          { width: 1920, height: 1080, rate: 60, id: 11 },\r\n          { width: 1920, height: 1200, rate: 60, id: 12 }\r\n        ],\r\n        visible: false,\r\n        req: {\r\n          width: '',\r\n          height: '',\r\n          rate: ''\r\n        },\r\n        isBlur: false,\r\n        isempty: false,\r\n        flag: false\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters(['getSelectedRate', 'getCustomRate'])\r\n    },\r\n    mounted() {\r\n      //上一次自定义的\r\n      let custom = getLoc('custom') || {};\r\n      if(custom.hasOwnProperty('width')) {\r\n        if(!this.resolutions.some(o => {\r\n          return o.width == custom.width && o.height == custom.height && o.rate == custom.rate;\r\n        })) {\r\n          this.resolutions.unshift(custom);\r\n          this.req = serialize(custom);\r\n        }\r\n      }\r\n      this.selected = this.$route.params.selected;\r\n    },\r\n    methods: {\r\n      ...mapMutations(['setSelectedRate', 'setCustomRate']),\r\n      blurWidth(value) {\r\n        if(value != '') {\r\n          this.isBlur = true;\r\n        }\r\n\r\n        setTimeout(() => {\r\n          this.isBlur = false;\r\n        }, 100);\r\n\r\n        this.changedWidth(value);\r\n      },\r\n      blurHeight(value) {\r\n        if(value != '') {\r\n          this.isBlur = true;\r\n        }\r\n\r\n        setTimeout(() => {\r\n          this.isBlur = false;\r\n        }, 100);\r\n\r\n        this.changedHeight(value);\r\n      },\r\n      blurFresh(value) {\r\n        if(value != '') {\r\n          this.isBlur = true;\r\n        }\r\n\r\n        setTimeout(() => {\r\n          this.isBlur = false;\r\n        }, 100);\r\n\r\n        this.changedFresh(value);\r\n      },\r\n      changedWidth(value) {\r\n        if(value !== \"\") {\r\n          if(!validateNum(value)) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.isNum') + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.req.width = 800;\r\n            this.flag = true;\r\n            return false;\r\n          }\r\n          let max = this.req.rate != '' && this.req.height != '' ? Math.trunc(165000000 / parseInt(this.req.rate) / (parseInt(this.req.height) + 62)) - 160 : 2048;\r\n          max = max > 2048 ? 2048 : max;\r\n          let _width = Math.max(Math.min(max, +this.req.width), 800);\r\n          if(_width != this.req.width) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.enterResolutionErrMsgs.width') + '800 ' + this.$t('settings.enterResolutionErrMsgs.flag') + max + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.flag = true;\r\n            this.req.width = _width;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      changedHeight(value) {\r\n        if(value !== \"\") {\r\n          if(!validateNum(value)) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.isNum') + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.flag = true;\r\n            this.req.height = 600;\r\n            return false;\r\n          }\r\n          let max = this.req.rate != '' && this.req.width != '' ? Math.trunc(165000000 / parseInt(this.req.rate) / (parseInt(this.req.width) + 160)) - 62 : 1600;\r\n          console.log(max);\r\n          max = max > 1600 ? 1600 : max;\r\n          let _height = Math.max(Math.min(max, +this.req.height), 600);\r\n          if(_height != this.req.height) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.enterResolutionErrMsgs.height') + '600 ' + this.$t('settings.enterResolutionErrMsgs.flag') + max + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.flag = true;\r\n            this.req.height = _height;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      changedFresh(value) {\r\n        if(value !== \"\") {\r\n          if(!validateNum(value)) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.isNum') + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.req.rate = 24;\r\n            this.flag = true;\r\n            return false;\r\n          }\r\n          let max = this.req.height != '' && this.req.width != '' ? Math.trunc(165000000 / (parseInt(this.req.height) + 62) / (parseInt(this.req.width) + 160)) : 60;\r\n          console.log(max);\r\n          max = max > 60 ? 60 : max;\r\n          let _rate = Math.max(Math.min(max, +this.req.rate), 24);\r\n          if(_rate != this.req.rate) {\r\n            Toast({\r\n              className: 'vx-toast',\r\n              message: this.$t('settings.enterResolutionErrMsgs.refresh') + '24 ' + this.$t('settings.enterResolutionErrMsgs.flag') + max + this.$t('common.dot'),\r\n              duration: 1500\r\n            });\r\n            this.flag = true;\r\n            this.req.rate = _rate;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      save() {\r\n        htp.post(urls.setInputResolutionRatio, {\r\n          width: this.selected.width,\r\n          height: this.selected.height,\r\n          rate: this.selected.rate,\r\n          inputSourceId: this.$route.params.selSource.id\r\n        }).then(response => {\r\n          if(response.status === 10000000) {\r\n            this.$router.go(-1);\r\n          }\r\n        });\r\n      },\r\n      checkResolution() {\r\n        if(this.req.width == \"\") {\r\n          Toast({\r\n            className: 'vx-toast',\r\n            message: this.$t('common.pleaseEnter') + this.$t('settings.width') + this.$t('common.dot'),\r\n            duration: 1500\r\n          });\r\n          return false;\r\n        } else {\r\n          if(!this.changedWidth(this.req.width)) {\r\n            return false;\r\n          }\r\n        }\r\n        if(this.req.height == \"\") {\r\n          Toast({\r\n            className: 'vx-toast',\r\n            message: this.$t('common.pleaseEnter') + this.$t('settings.height') + this.$t('common.dot'),\r\n            duration: 1500\r\n          });\r\n          return false;\r\n        } else {\r\n          if(!this.changedHeight(this.req.height)) {\r\n            return false;\r\n          }\r\n        }\r\n        if(this.req.rate == \"\") {\r\n          Toast({\r\n            className: 'vx-toast',\r\n            message: this.$t('common.pleaseEnter') + this.$t('settings.vertrefresh') + this.$t('common.dot'),\r\n            duration: 1500\r\n          });\r\n          return false;\r\n        } else {\r\n          if(!this.changedFresh(this.req.rate)) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      },\r\n      saveResolution($event) {\r\n        if(!this.flag) {\r\n          setTimeout(() => {\r\n            this.isBlur = false;\r\n          }, 100);\r\n          if(this.isBlur) {\r\n            return false;\r\n          }\r\n          if(!this.checkResolution()) {\r\n            return false;\r\n          }\r\n          this.visible = false;\r\n          this.saveHandler();\r\n          this.save();\r\n        }\r\n        setTimeout(() => {\r\n          this.flag = false;\r\n        }, 100);\r\n      },\r\n      saveHandler() {\r\n        this.selected.width = this.req.width;\r\n        this.selected.height = this.req.height;\r\n        this.selected.rate = this.req.rate;\r\n        this.selected.id = 'vx-custom';\r\n        setLoc('custom', { width: this.req.width, height: this.req.height, rate: this.req.rate, id: 'vx-custom' });\r\n\r\n        this.setSelectedRate(this.selected);\r\n        if(this.getSelectedRate.hasOwnProperty('width')) {\r\n          if(!this.resolutions.some(o => {\r\n            return o.width == this.getSelectedRate.width && o.height == this.getSelectedRate.height && o.rate == this.getSelectedRate.rate;\r\n          })) {\r\n            if(!this.resolutions.some(o => {\r\n              return o.id == this.getSelectedRate.id;\r\n            })) {\r\n              this.resolutions.unshift(this.getSelectedRate);\r\n            } else {\r\n              this.resolutions[0] = this.getSelectedRate;\r\n            }\r\n          }\r\n        }\r\n      },\r\n      selectResolution(o) {\r\n        this.selected = o;\r\n        this.setSelectedRate(this.selected);\r\n        setLoc('custom', this.selected);\r\n        this.save();\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n\r\n<style scoped lang=\"less\">\r\n  .content {\r\n    padding: 0 20px;\r\n  }\r\n  .sel-sources {\r\n    padding-top: 25px;\r\n    .vc-cell-title {\r\n      color: #dddddd;\r\n    }\r\n    .vc-cell {\r\n      border-bottom: 1px solid #4f5054; /*no*/\r\n      font-size: 22px;\r\n      &:last-child {\r\n        border-bottom: none;\r\n      }\r\n    }\r\n    .selected {\r\n      background: ~\"url('../../assets/common/checked.png') no-repeat\" #383940;\r\n      background-size: 32px 32px;\r\n      background-position: calc(~'100% - 35px');\r\n    }\r\n  }\r\n\r\n  //设置页面公用样式\r\n  .sel-resolution {\r\n    text-align: left;\r\n    .custom_header {\r\n      color: #fff;\r\n      width: 620px;\r\n      height: 80px;\r\n      line-height: 80px;\r\n      font-size: 32px;\r\n      border-bottom: 1px solid #787f8e;\r\n    }\r\n\r\n    .footer {\r\n      display: flex;\r\n      height: 90px;\r\n      line-height: 90px;\r\n      border-top: 1px solid #787f8e; /*no*/\r\n      .cancel,\r\n      .save {\r\n        flex: 1;\r\n        background-color: #565a65;\r\n        font-size: 34px;\r\n      }\r\n      .cancel {\r\n        border-right: 1px solid #787f8e; /*no*/\r\n        color: #c2c2c2;\r\n      }\r\n      .save {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"less\">\r\n  .mint-cell {\r\n    border-top: 1px solid #c4c4c4;\r\n  }\r\n  .mint-cell-wrapper {\r\n    height: 90px;\r\n    background: none;\r\n    background-image: none;\r\n  }\r\n  .mint-field .mint-cell-title {\r\n    text-align: left;\r\n    margin-left: 40px;\r\n    .mint-cell-text {\r\n      color: #333333;\r\n      font-size: 30px;\r\n    }\r\n  }\r\n  .mint-field-core {\r\n    font-size: 28px;\r\n    &::-webkit-input-placeholder {\r\n      color: #aaaaaa;\r\n    }\r\n    &:-moz-placeholder {\r\n      color: #aaaaaa;\r\n    }\r\n    &::-moz-placeholder {\r\n      color: #aaaaaa;\r\n    }\r\n    &:-ms-input-placeholder {\r\n      color: #aaaaaa;\r\n    }\r\n  }\r\n</style>\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/settings/selResolution.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sel-resolution\"},[_c('vx-header',{attrs:{\"showback\":1,\"title\":_vm.$t('settings.enterResolution')}}),_vm._v(\" \"),_c('div',{staticClass:\"vx-container\"},[_c('div',{staticClass:\"sel-sources\"},[_vm._l((_vm.resolutions),function(o,i){return _c('vx-cell',{key:i,class:{selected: _vm.selected.id === o.id},attrs:{\"title\":o.width+'x'+o.height+'@'+o.rate+'Hz',\"showLink\":false},on:{\"link\":function($event){_vm.selectResolution(o)}}})}),_vm._v(\" \"),_c('vx-cell',{attrs:{\"title\":_vm.$t('settings.custom'),\"showLink\":false},on:{\"link\":function($event){_vm.visible = true}}})],2)]),_vm._v(\" \"),(_vm.visible)?_c('vx-modal',{attrs:{\"visible\":_vm.visible}},[_c('div',{staticClass:\"custom_header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(_vm._s(_vm.$t('settings.custom')))]),_vm._v(\" \"),_c('div',{staticClass:\"content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('vx-input',{attrs:{\"type\":\"text\",\"placeholdertext\":_vm.$t('settings.enterWidth'),\"placeholder\":_vm.$t('settings.width')},on:{\"changedInput\":_vm.changedWidth},model:{value:(_vm.req.width),callback:function ($$v) {_vm.$set(_vm.req, \"width\", $$v)},expression:\"req.width\"}}),_vm._v(\" \"),_c('vx-input',{attrs:{\"type\":\"text\",\"placeholdertext\":_vm.$t('settings.enterHeight'),\"placeholder\":_vm.$t('settings.height')},on:{\"changedInput\":_vm.changedHeight},model:{value:(_vm.req.height),callback:function ($$v) {_vm.$set(_vm.req, \"height\", $$v)},expression:\"req.height\"}}),_vm._v(\" \"),_c('vx-input',{attrs:{\"type\":\"text\",\"placeholdertext\":_vm.$t('settings.enterVertrefresh'),\"placeholder\":_vm.$t('settings.vertrefresh')},on:{\"changedInput\":_vm.changedFresh},model:{value:(_vm.req.rate),callback:function ($$v) {_vm.$set(_vm.req, \"rate\", $$v)},expression:\"req.rate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.visible=false;_vm.issave=true;}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_vm._v(\" \"),_c('div',{staticClass:\"btn save\",on:{\"click\":_vm.saveResolution}},[_vm._v(_vm._s(_vm.$t('common.confirm')))])])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e830e4a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/settings/selResolution.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e830e4a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./selResolution.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e830e4a8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./selResolution.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./selResolution.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./selResolution.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e830e4a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./selResolution.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e830e4a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/settings/selResolution.vue\n// module id = null\n// module chunks = ","require('../../modules/es6.math.trunc');\nmodule.exports = require('../../modules/_core').Math.trunc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/math/trunc.js\n// module id = q3gF\n// module chunks = 7"],"sourceRoot":""}